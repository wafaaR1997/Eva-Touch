function i18n(e){var t=window.i18n_local,n=window.i18n_global;return void 0===t&&void 0===n?"":void 0!==t&&void 0!==t[e]?t[e]:n[e]}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var UTIL=function(){function e(e){if(p||n())p=!0,e();else{var t=function(){n()&&(p=!0,window.removeEventListener("load",e),document.removeEventListener("readystatechange",t),e())};document.addEventListener("readystatechange",t),window.addEventListener("load",e)}}function n(){return"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll}function a(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function r(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function t(e,t){o(e,t)?r(e,t):a(e,t)}function o(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function i(e){try{var t=new CustomEvent(e)}catch(n){(t=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,null)}document.dispatchEvent(t)}function s(){return null===T||T===undefined?T=document.querySelector('meta[name="csrf-token"]').getAttribute("content"):T}function l(e){var t=new XMLHttpRequest;return t.open("GET",e,!0),t.setRequestHeader("X-CSRF-Token",s()),t.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t}function c(e,t,n){var a=new XMLHttpRequest;return a.open("GET",e,!0),a.setRequestHeader("X-CSRF-Token",s()),a.onreadystatechange=function(){4===a.readyState&&(200<=a.status&&a.status<400?t(a.responseText):n(a.responseText))},a.send(),a}function u(e){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()}function d(e){m=e}function g(){return m||!1}function h(){return document.documentElement.getAttribute("data-locale")}function f(e){return null!=e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)}var m,T,p=!1;return{ready:e,addClass:a,removeClass:r,hasClass:o,toggleClass:t,triggerEvent:i,getCsrfToken:s,scriptRequest:l,getRequest:c,setSignedIn:d,isSignedIn:g,getCookie:u,getLocale:h,isObject:f}}(),ENDLESS_SCROLLING=function(){function init(){document.querySelector(SELECTOR_NEXT_PAGE)&&(elPagination=document.querySelector(SELECTOR_PAGINATION))&&(seed=elPagination.getAttribute("data-seed"),setBottomThreshold(),restoreState(),checkIfNearBottom(),bindEvents())}function terminate(){unbindEvents()}function setBottomThreshold(){document.querySelector(".footer")&&(bottomThreshold+=BOTTOM_THRESHOLD_FOOTER_ADDITION)}function bindEvents(){document.addEventListener("scroll",checkIfNearBottom),window.addEventListener("beforeunload",saveScrollPosition)}function unbindEvents(){document.removeEventListener("scroll",checkIfNearBottom),window.removeEventListener("beforeunload",saveScrollPosition)}function checkIfNearBottom(){if(0===loadingPages.length&&window.pageYOffset+window.innerHeight>document.body.scrollHeight-bottomThreshold){var e=document.querySelector(SELECTOR_NEXT_PAGE);if(!e)return;var t=e.getAttribute("href");if(!t)return;bottomThreshold<=BOTTOM_THRESHOLD_SMALL+BOTTOM_THRESHOLD_FOOTER_ADDITION&&(bottomThreshold+=BOTTOM_THRESHOLD_ADDITION),UTIL.removeClass(document.querySelector(SELECTOR_LOADING_BAR),"hidden");var n,a=t+"&format=js";if(history.state!==undefined)null!==history.state&&history.state.pages?n=history.state:(n={pages:[]},history.state&&history.state.activeHomeTab&&(n.activeHomeTab=history.state.activeHomeTab)),n.pages.push(a),history.replaceState(n,"");loadPage(a)}}function restoreState(){if(history.state&&history.state.pages&&0<history.state.pages.length){if(seed!=history.state.seed&&3<history.state.pages.length)return;for(var t=0;t<history.state.pages.length;t++)loadPage(history.state.pages[t]);document.addEventListener("new-page",function e(){0==loadingPages.length&&(document.removeEventListener("new-page",e),window.scrollTo(0,history.state.pos))})}}function saveScrollPosition(){if(history.state&&history.state.pages){var e=history.state;e.pos=window.pageYOffset,e.seed=seed,history.replaceState(e,"")}}function loadPage(url){url+="&seed="+seed;var index=loadingPages.length;loadingPages.push(url);var request=UTIL.scriptRequest(url);request.onload=function(){if(loadingPages.splice(loadingPages.indexOf(url),1),loadedPages[index]=request.responseText,0==loadingPages.length){for(var i=0;i<loadedPages.length;i++)elPagination.innerHTML="",eval(loadedPages[i]);loadedPages=[],UTIL.addClass(document.querySelector(SELECTOR_LOADING_BAR),"hidden"),UTIL.triggerEvent("new-page")}},request.send()}var SELECTOR_NEXT_PAGE=".pagination .next_page",SELECTOR_PAGINATION=".js-pagination",SELECTOR_LOADING_BAR=".js-loading",BOTTOM_THRESHOLD_SMALL=600,BOTTOM_THRESHOLD_FOOTER_ADDITION=280,BOTTOM_THRESHOLD_ADDITION=500,bottomThreshold=BOTTOM_THRESHOLD_SMALL,loadingPages=[],loadedPages=[],elPagination,seed;return UTIL.ready(init),{init:init,terminate:terminate}}();!function(){function e(){var e=document.createElement("script");e.src="/assets/app-async-7a87b97e34e1d85556c69eb559c4733388b367feb24a661882947d84c74db1ea.js",document.body.appendChild(e)}UTIL.ready(e)}(),function(){function e(){var e=UTIL.getCookie("locale"),t=window.location.pathname;e&&("en"==e?(e="en-US",n()):"de"==e&&(e="de-DE",n())),e&&"en-US"!==e&&"/"===t&&"locale=en-us"!==window.location.search.substring(1)?window.location.replace("/"+e.toLowerCase()+"/"):n()}function n(){var e=UTIL.getLocale();document.cookie="locale="+e+"; expires="+t()+"; path=/"}function t(){var e=new Date;return e.setTime(e.getTime()+63072e7),e.toUTCString()}UTIL.ready(e)}(),function(){function e(){"true"==localStorage.getItem("newsletterSubscribed")&&UTIL.addClass(document.body,"newsletter-subscribed")}UTIL.ready(e)}(),/(\?nc|&nc)$/.test(document.location.href)&&history.replaceState({},document.title,document.location.href.replace(/(\?nc|&nc)$/,"")),UTIL.ready(function(){UTIL.removeClass(document.body,"no-js")});var rowGrid=function(e,t){function n(e){for(var t=[e];(e=e.nextSibling)&&9!==e.nodeType;)1===e.nodeType&&t.push(e);return t}function a(e,t,n){var a=0,r=[],o=(n=Array.prototype.slice.call(n||e.querySelectorAll(t.itemSelector))).length;singleImagePerRow=!!window.matchMedia&&!window.matchMedia("(min-width:"+t.minWidth+"px)").matches;for(var i,s,l,c=getComputedStyle(e),u=Math.floor(e.getBoundingClientRect().width)-parseFloat(c.getPropertyValue("padding-left"))-parseFloat(c.getPropertyValue("padding-right")),d=[],g=0;g<o;++g)(i=n[g].getElementsByTagName("img")[0])?((s=parseInt(i.getAttribute("width")))||i.setAttribute("width",s=i.offsetWidth),(l=parseInt(i.getAttribute("height")))||i.setAttribute("height",l=i.offsetHeight),d[g]={width:s,height:l}):(n.splice(g,1),--g,--o);for(var h=0;h<o;++h){if(n[h].classList?(n[h].classList.remove(t.firstItemClass),n[h].classList.remove(t.lastRowClass)):n[h].className=n[h].className.replace(new RegExp("(^|\\b)"+t.firstItemClass+"|"+t.lastRowClass+"(\\b|$)","gi")," "),a+=d[h].width,r.push(n[h]),h===o-1)for(var f=0;f<r.length;f++){0===f&&(r[f].className+=" "+t.lastRowClass);var m="width: "+d[h+parseInt(f)-r.length+1].width+"px;height: "+d[h+parseInt(f)-r.length+1].height+"px;";f<r.length-1&&(m+="margin-right:"+t.minMargin+"px"),r[f].style.cssText=m}if(a+t.maxMargin*(r.length-1)>u||singleImagePerRow){var T=a+t.maxMargin*(r.length-1)-u,p=r.length;if((t.maxMargin-t.minMargin)*(p-1)<T){var v=t.minMargin;T-=(t.maxMargin-t.minMargin)*(p-1)}else{v=t.maxMargin-T/(p-1);T=0}var S,y=null,E=0;for(f=0;f<r.length;f++){S=r[f];var A=d[h+parseInt(f)-r.length+1].width,_=A-A/a*T;y=y||Math.round(d[h+parseInt(f)-r.length+1].height*(_/A)),.5<=E+1-_%1?(E-=_%1,_=Math.floor(_)):(E+=1-_%1,_=Math.ceil(_));m="width: "+_+"px;height: "+y+"px;";f<r.length-1&&(m+="margin-right: "+v+"px"),S.style.cssText=m,0===f&&t.firstItemClass&&(S.className+=" "+t.firstItemClass)}r=[],a=0}}}if(null!==e&&e!==undefined)if("appended"===t){t=JSON.parse(e.getAttribute("data-row-grid"));var r=n(e.getElementsByClassName(t.lastRowClass)[0]);a(e,t,r)}else t?(t.minWidth===undefined&&(t.minWidth=0),t.lastRowClass===undefined&&(t.lastRowClass="last-row"),e.setAttribute("data-row-grid",JSON.stringify(t)),window.addEventListener("resize",function(){a(e,t)})):t=JSON.parse(e.getAttribute("data-row-grid")),a(e,t)};PhotoGrid=function(){function e(){(a=document.querySelector(".carbon-ad-in-photos img"))&&(n(),window.addEventListener("resize",n)),t(".photos")}function t(e){var t={minMargin:10,maxMargin:10,itemSelector:".photo-item",firstItemClass:"first-item",lastRowClass:"last-row",resize:!0,minWidth:426};rowGrid(document.querySelector(e),t)}function n(){var e=window.innerWidth,t=180;e<600?t=2*e:e<1e3?t=280:e<1100&&(t=240),a.setAttribute("width",t)}var a;return UTIL.ready(e),{init:t}}(),function(){function e(){(UTIL.getCookie("pexels_auth")||i())&&(UTIL.setSignedIn(!0),UTIL.ready(t)),c=!1}function t(){a(),r()}function n(e){var t=document.querySelector(".js-avatar");if(t){var n;try{n=e&&e.avatar||decodeURIComponent(UTIL.getCookie("avatar_url")||"")}catch(a){return}t.setAttribute("src",n)}}function a(){UTIL.addClass(document.body,"signed-in")}function r(){var e=i();e&&(o(e),n(e))}function o(e){var t=document.querySelector(".js-user-name");t&&(t.innerText=e.name)}function i(){var e=localStorage.user;if(!e)return s(),null;var t=JSON.parse(e);return t.avatar||s(),t}function s(){if(!c){c=!0;var e=new XMLHttpRequest;e.open("GET","/me/",!0),e.setRequestHeader("Accept","application/json, text/*"),e.onreadystatechange=function(){4===e.readyState&&200<=e.status&&e.status<400&&(l(e.responseText),r())},e.send()}}function l(e){var t;try{t=JSON.parse(e)}catch(a){return void console.log(a)}var n={name:t.first_name,hero:"no_hero"!==t.hero_status,avatar:t.avatar,photographer:t.photographer};localStorage.user=JSON.stringify(n)}var c=!0;e()}();var SponsoredPhotos=function(){function init(e){var t=(arguments.length<=0||e===undefined?document:e).querySelector(".js-sponsored-photos");t&&("false"!=t.getAttribute("data-load-on-init")?loadSponsoredPhotos(t):document.addEventListener("end-of-photos",function(){loadSponsoredPhotos(t)}))}function loadSponsoredPhotos(el){if(el&&!el.getAttribute("data-loaded")){var url=el.getAttribute("data-url"),urlChina=el.getAttribute("data-url-china");urlChina&&"zh-cn"==navigator.language.toLowerCase()&&(url=urlChina);var request=UTIL.scriptRequest(url);request.onload=function(){document.body.contains(el)&&200<=request.status&&request.status<400&&(eval(request.responseText),el.setAttribute("data-loaded",!0))},request.send()}}function showInlineAd(){var e=document.querySelector(".js-sponsored-photos-inline");if(e){var t=document.querySelectorAll(".first-item"),n=t[t.length-1].previousElementSibling;n.style.marginBottom="252px",e.style.display="block",e.style.top=getTopOffset(n)+"px",window.addEventListener("resize",function(){e.style.display="none"})}}function getTopOffset(e){var t=document.body.getBoundingClientRect(),n=e.getBoundingClientRect();return n.top+n.height-t.top}return UTIL.ready(init),{init:init,loadSponsoredPhotos:loadSponsoredPhotos,showInlineAd:showInlineAd}}(),_slicedToArray=function(){function n(e,t){var n=[],a=!0,r=!1,o=undefined;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(l){r=!0,o=l}finally{try{!a&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),TailoredSearchTags=function(){function e(){_classCallCheck(this,e),this.MAX_COUNT_OF_CLICKED_TAGS_TO_STORE=30,this.LOCAL_STORAGE_KEY="tailored-search-tags",this.RELATED_SEARCH_RESULT_DATA_ATTRIBUTE="data-related-search-item",this.RELATED_SEARCH_RESULT_SELECTOR=".js-related-search-item",this.POPULAR_SEARCH_DATA_ATTRIBUTE="data-popular-search-value",this.POPULAR_SEARCH_TAG_SELECTOR=".js-popular-search-tag",this._isOnSearchPage()&&this._persistSimilarResults(),this._isOnHomePage()&&this._attemptToReplaceSuggestedTagsWithSimilarResults()}return _createClass(e,[{key:"_isOnSearchPage",value:function(){return 0<this._getAllRelatedSearchItemElements().length}},{key:"_isOnHomePage",value:function(){return 0<this._getAllPopularSearchTagElements().length}},{key:"_persistSimilarResults",value:function(){var t=this,e=this._getAllRelatedSearchItemElements().map(function(e){return e.attributes[t.RELATED_SEARCH_RESULT_DATA_ATTRIBUTE].value}).filter(function(e){return 0<(arguments.length<=0||e===undefined?"":e).length});this.similarTags=this.similarTags.concat(e)}},{key:"_attemptToReplaceSuggestedTagsWithSimilarResults",value:function(){var a=this,r=this._getAllPopularSearchTagElements();this._getRandomValuesFromArray(r.length,this.similarTags).forEach(function(e,t){if(r[t]&&!a.currentTagValues.includes(e)){var n=r[t].innerText.toLowerCase().trim();r[t].href=a._replaceTagInSearchPath(r[t].href,n,e),r[t].innerText=e,r[t].dataset.trackLabel=e,r[t].dataset.trackAction="suggested-search",r[t].dataset.popularSearchValue=e}})}},{key:"_getAllPopularSearchTagElements",value:function(){return[].concat(_toConsumableArray(document.querySelectorAll(this.POPULAR_SEARCH_TAG_SELECTOR)))}},{key:"_getAllRelatedSearchItemElements",value:function(){return[].concat(_toConsumableArray(document.querySelectorAll(this.RELATED_SEARCH_RESULT_SELECTOR)))}},{key:"_getRandomValuesFromArray",value:function(e,t){for(var n=arguments.length<=0||e===undefined?1:e,a=arguments.length<=1||t===undefined?[]:t,r=[].concat(_toConsumableArray(a)),o=new Set;0<r.length&&o.size<n;){var i=Math.floor(Math.random()*r.length),s=r.splice(i,1),l=_slicedToArray(s,1)[0];o.add(l)}return[].concat(_toConsumableArray(o))}},{key:"_replaceTagInSearchPath",value:function(e,t,n){var a=arguments.length<=0||e===undefined?"":e,r=arguments.length<=1||t===undefined?"":t,o=arguments.length<=2||n===undefined?"":n;return encodeURI(decodeURI(a).replace(r,o))}},{key:"similarTags",get:function(){try{var e=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_KEY));if(Array.isArray(e)&&(localStorage.removeItem(this.LOCAL_STORAGE_KEY),e=undefined),UTIL.isObject(e)){var t=e[UTIL.getLocale()];Array.isArray(t)&&(e=t)}return Array.isArray(e)?e:[]}catch(n){}return[]},set:function(e){var t=arguments.length<=0||e===undefined?[]:e;t=(t=[].concat(_toConsumableArray(new Set(t)))).slice(t.length-this.MAX_COUNT_OF_CLICKED_TAGS_TO_STORE,t.length);try{var n=JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_KEY));UTIL.isObject(n)||(n={}),n[UTIL.getLocale()]=t,localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(n))}catch(a){}}},{key:"currentTagValues",get:function(){var t=this;return this._getAllPopularSearchTagElements().map(function(e){return e.attributes[t.POPULAR_SEARCH_DATA_ATTRIBUTE]})}}]),e}();UTIL.ready(function(){return new TailoredSearchTags});